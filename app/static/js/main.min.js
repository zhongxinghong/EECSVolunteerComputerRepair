(function(){$("label[for]").each(function(c,e){var d=$(e);if($("input[id="+d.attr("for")+"]").attr("required")!==undefined){d.prepend('<span class="text-danger">* </span>');
}});var b=window.location.pathname;var a=b.substring(b.lastIndexOf("/")+1);$("header ul li.nav-item a.nav-link").each(function(c,f){var d=$(f);var e=d.attr("href");
if(e.substring(e.lastIndexOf("/")+1)==a){d.addClass("active");}});})();(function(){$("select.select-status").change(function(){var a=$(this);var d=parseInt(a.val());
var e=["text-danger","text-warning","text-success"];for(var c=0;c<e.length;c++){a.removeClass(e[c]);}a.addClass(e[d]);var b=new URLSearchParams(window.location.search);
$.ajax({url:a.attr("action")+"?token="+b.get("token"),type:a.attr("method"),data:{queueID:a.parent("td").prev("th").html(),status:d,},}).done(function(f){switch(f.errcode){case 0:break;
default:console.error(f);alert("设置失败！");throw new Error(f.errmsg);break;}}).fail(function(f){throw new Error(f);});return false;});})();(function(){$("form#form-check").submit(function(){var a=$(this);
$.ajax({url:a.attr("action"),type:a.attr("method"),data:a.serialize(),}).done(function(b){switch(b.errcode){case 0:window.location.href=b.redirect;break;
case 302:var c=a.find("input#form-email");c.addClass("is-invalid").next("div.invalid-feedback").removeAttr("hidden");c[0].oninput=function(){$(this).removeClass("is-invalid").next("div.invalid-feedback").attr("hidden","hidden");
};break;default:console.error(b);throw new Error(b.errmsg);break;}}).fail(function(b){throw new Error(b);});return false;});})();(function(){$("form#form-order").submit(function(){var a=$(this);
$.ajax({url:a.attr("action"),type:a.attr("method"),data:a.serialize(),}).done(function(b){switch(b.errcode){case 0:window.location.href=b.redirect;break;
case 301:var c=a.find("input#form-email");c.addClass("is-invalid").next("div.invalid-feedback").removeAttr("hidden");c[0].oninput=function(){$(this).removeClass("is-invalid").next("div.invalid-feedback").attr("hidden","hidden");
};break;default:console.error(b);throw new Error(b.errmsg);break;}}).fail(function(b){throw new Error(b);});return false;});})();(function(){$("button#btn-register").click(function(){var b=$(this);
var a=new URLSearchParams(window.location.search);$.ajax({url:b.attr("action")+"?token="+a.get("token"),type:b.attr("method"),data:{order:a.get("order"),},}).done(function(c){switch(c.errcode){case 0:window.location.href=c.redirect;
break;default:console.error(c);throw new Error(c.errmsg);break;}}).fail(function(c){throw new Error(c);});return false;});$("form#form-withdraw").submit(function(){var a=$(this);
$.ajax({url:a.attr("action"),type:a.attr("method"),data:a.serialize(),}).done(function(b){console.log(b);switch(b.errcode){case 0:console.log("ok");window.location.href=b.redirect;
break;case 302:var c=a.find("input#form-email");c.addClass("is-invalid").next("div.invalid-feedback").removeAttr("hidden");c[0].oninput=function(){$(this).removeClass("is-invalid").next("div.invalid-feedback").attr("hidden","hidden");
};break;case 201:var d=a.find("input#form-chksn");d.addClass("is-invalid").next("small.form-text").attr("hidden","hidden").next("div.invalid-feedback").removeAttr("hidden");
d[0].oninput=function(){$(this).removeClass("is-invalid").next("small.form-text").removeAttr("hidden").next("div.invalid-feedback").attr("hidden","hidden");
};break;default:console.error(b);throw new Error(b.errmsg);break;}}).fail(function(b){throw new Error(b);});return false;});})();(function(){$("form#form-register").submit(function(){var a=new URLSearchParams(window.location.search);
var b=$(this);$.ajax({url:b.attr("action")+"&token="+a.get("token"),type:b.attr("method"),data:b.serialize(),}).done(function(c){switch(c.errcode){case 0:window.location.href=c.redirect;
break;case 302:var d=b.find("input#form-email");d.addClass("is-invalid").next("div.invalid-feedback").removeAttr("hidden");d[0].oninput=function(){$(this).removeClass("is-invalid").next("div.invalid-feedback").attr("hidden","hidden");
};break;default:console.error(c);throw new Error(c.errmsg);break;}}).fail(function(c){throw new Error(c);});return false;});})();